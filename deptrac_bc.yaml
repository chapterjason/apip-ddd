parameters:
    paths:
        - ./src

    layers:
        -   name: BookStore
            collectors:
                -   type: directory
                    regex: src/BookStore/.*

        -   name: Identity
            collectors:
                -   type: directory
                    regex: src/Identity/.*
                               
        -   name: IdentityIntegration
            collectors:
                -   type: directory
                    regex: src/IdentityIntegration/.*

        -   name: Subscription
            collectors:
                -   type: directory
                    regex: src/Subscription/.*

        -   name: Shared
            collectors:
                -   type: directory
                    regex: src/Shared/.*

        -   name: Vendors
            collectors:
                - { type: className, regex: ^ApiPlatform\\ }
                - { type: className, regex: ^Symfony\\ }
                - { type: className, regex: ^Doctrine\\ }
                - { type: className, regex: ^Webmozart\\ }

    ruleset:
        IdentityIntegration: [ Shared, Vendors ]
        BookStore: [ Shared, Vendors, IdentityIntegration ]
        Identity: [ Shared, Vendors, IdentityIntegration ]
        Subscription: [ Shared, Vendors ]
        Shared: [ Vendors ]
